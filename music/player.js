function setupAudioPlayer(e, t, n, a, i) { var r = document.getElementById(e), o = document.getElementById(t), s = 0; function c(e) { var t = document.querySelectorAll(".track"); t.forEach((function (e) { e.classList.remove("currently-playing") })), e >= 0 && e < t.length && (t[e].classList.add("currently-playing"), navigator.mediaSession.metadata = new MediaMetadata({ title: t[e].textContent, artist: "Elliott Etzkorn", album: a, artwork: [{ src: i }] })) } r.src = n[s], c(s), o.addEventListener("click", (function (e) { e.target && "LI" == e.target.nodeName && (s = Number(e.target.getAttribute("data-track")), r.src = n[s], r.play(), c(s)) })), r.addEventListener("ended", (function () { ++s < n.length && (r.src = n[s], r.play(), c(s)) })), document.addEventListener("keydown", (function (e) { "Space" === e.code && (e.preventDefault(), r.paused ? r.play() : r.pause()) })), "mediaSession" in navigator && (navigator.mediaSession.setActionHandler("previoustrack", (function () { s > 0 && (s--, r.src = n[s], r.play(), c(s)) })), navigator.mediaSession.setActionHandler("play", (function () { r.play() })), navigator.mediaSession.setActionHandler("pause", (function () { r.pause() })), navigator.mediaSession.setActionHandler("nexttrack", (function () { s < n.length - 1 && (s++, r.src = n[s], r.play(), c(s)) })), navigator.mediaSession.setActionHandler("seekto", (function (e) { r.currentTime = e.seekTime }))) }